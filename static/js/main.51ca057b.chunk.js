(this.webpackJsonpconjure=this.webpackJsonpconjure||[]).push([[0],{166:function(e,t,n){e.exports=n(254)},254:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),c=n.n(o),i=n(29),s=n.n(i),l=n(55),u=n(27),p=n.n(u),d=n(115),m=n(125),f=n(161),h=n(30),g=n(38),y=n(23),b=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(a.type)?t[a.type](n,a.payload):n}},E="Logger/DISPATCHED",v=b({history:[]},Object(g.a)({},E,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{history:[].concat(Object(d.a)(e.history),[t])})}))),x=function(e){return{type:E,payload:e}},O=p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type===E){e.next=3;break}return e.next=3,Object(h.d)(x(t));case 3:case"end":return e.stop()}}),e)})),w=p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)("*",O);case 2:case"end":return e.stop()}}),e)})),j="Login/LOGIN_START",C="Login/LOGIN_FINISH",S="Login/LOGIN_CREATE_START",k="Login/LOGIN_CREATE_FINISH",R="LOGIN/LOGIN_MODAL_CLOSE",T="Login/LOGOUT",A=b({login:!1,user:{},accountModalSuccess:!1},(a={},Object(g.a)(a,C,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{user:t.loginInfo,login:!0})})),Object(g.a)(a,k,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{accountModalSuccess:!0})})),Object(g.a)(a,R,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{accountModalSuccess:t.accountModalSuccess})})),Object(g.a)(a,T,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{user:{},login:!1})})),a)),L="alert/ALERT_START",N="alert/ALERT_STOP",F=b({message:"",show:!1},(r={},Object(g.a)(r,L,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{message:t.message,show:!0})})),Object(g.a)(r,N,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{message:"",show:!1})})),r)),I="controller/CONTROLLER_FETCH_START",P="controller/CONTROLLER_FETCH_FINISH",_="controller/CONTROLLER_UPDATE_START",D=b({controller:{}},Object(g.a)({},P,(function(e,t){return Object(y.a)(Object(y.a)({},e),{},{controller:t.controller})}))),M=function(e){return{type:L,payload:{message:e,show:!0}}},z=function(){return{type:N,payload:{}}},U=function(e){return{type:j,payload:{loginInfo:e}}},J=function(e){return{type:C,payload:{loginInfo:e}}},G=function(e){return{type:S,payload:{accountInfo:e}}},H=function(e){return{type:k,payload:{result:e}}},Y=function(e){return{type:R,payload:{accountModalSuccess:!1}}},B=function(){return{type:T,payload:{}}},V=p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e,n){fetch("/api/create-user",{method:"POST",body:t.payload.accountInfo,headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){e(t)}))}))},e.next=3,Object(h.b)(n);case 3:if(!(a=e.sent).success){e.next=9;break}return e.next=7,Object(h.d)(H(a.success));case 7:e.next=11;break;case 9:return e.next=11,Object(h.d)(M(a.message));case 11:case"end":return e.stop()}}),e)})),X=p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e,n){fetch("/api/login",{method:"POST",body:t.payload.loginInfo,headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){e(t)}))}))},e.next=3,Object(h.b)(n);case 3:if(!(a=e.sent).success){e.next=9;break}return e.next=7,Object(h.d)(J(a.user));case 7:e.next=11;break;case 9:return e.next=11,Object(h.d)(M(a.message));case 11:case"end":return e.stop()}}),e)})),q=p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(S,V);case 2:return e.next=4,Object(h.e)(j,X);case 4:case"end":return e.stop()}}),e)})),W=function(e){return{type:P,payload:{controller:e}}},K=function(e,t){return{type:_,payload:{user_id:e,controller:t}}},Q=p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e,n){fetch("/api/controller",{method:"POST",body:JSON.stringify({user_id:t.payload.user_id}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){e(t)}))}))},e.next=3,Object(h.b)(n);case 3:if(a=e.sent,console.log(a),!a.success){e.next=8;break}return e.next=8,Object(h.d)(W(a.controller[0]));case 8:case"end":return e.stop()}}),e)})),Z=p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e,n){fetch("/api/update-controller/"+t.payload.user_id,{method:"POST",body:t.payload.controller,headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){e(t)}))}))},e.next=3,Object(h.b)(n);case 3:if(!(a=e.sent).success){e.next=7;break}return e.next=7,Object(h.d)(W(a.controller));case 7:case"end":return e.stop()}}),e)})),$=p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(I,Q);case 2:return e.next=4,Object(h.e)(_,Z);case 4:case"end":return e.stop()}}),e)})),ee=Object(f.a)(),te=Object(m.c)(Object(m.b)({LoggerReducer:v,LoginReducer:A,AlertReducer:F,ControllerReducer:D}),Object(m.a)(ee));ee.run(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.b)(w)].concat(Object(d.a)([$,q].map(h.c))));case 2:case"end":return e.stop()}}),e)})));var ne=n(158),ae=n(31),re=function(){return c.a.createElement(c.a.Fragment,null,"Not Found")},oe=n(47),ce=n(48),ie=n(57),se=n(56),le=n(90),ue=n(150),pe=n(265),de=n(266),me=n(267),fe=n(264),he=n(257),ge=n(45),ye=n(259),be=n(260),Ee=function(e){Object(ie.a)(n,e);var t=Object(se.a)(n);function n(e){var a;return Object(oe.a)(this,n),(a=t.call(this,e)).state={angleX:0,angleY:0,movement:"NONE",shoot:!1,fireRate:.5,force:1,levitation:0},a}return Object(ce.a)(n,[{key:"updateController",value:function(){this.props.dispatch(K(this.props.LoginReducer.user._id,JSON.stringify(this.state)))}},{key:"componentDidMount",value:function(){!1===this.props.LoginReducer.login&&this.props.history.push("/"),this.updateController()}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{color:"white",position:"absolute",right:"20px",top:"20px"}},c.a.createElement(fe.a,{overlay:function(){return c.a.createElement(he.a,null,c.a.createElement(he.a.Item,null,"Settings"),c.a.createElement(he.a.Item,null,c.a.createElement("a",{onClick:function(){e.props.dispatch(B()),e.props.history.push("/")}},"Logout")))}},c.a.createElement(ge.a,{icon:c.a.createElement(pe.a,null),size:"large",style:{background:"#329D9C",borderColor:"#C8EAD1"},type:"primary"}))),c.a.createElement("div",{style:{backgroundColor:"#01303f",width:"100vw",height:"100vh"}},c.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"70px"}},c.a.createElement("div",{style:{width:"200px",height:"200px",borderRadius:"50%",backgroundColor:"white"}},c.a.createElement(ue.a,{tiltAngleXManual:-1*this.state.angleX,tiltAngleYManual:this.state.angleY,glareEnable:!1},c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"}},c.a.createElement("img",{style:{height:"180px",paddingTop:"10px"},src:"/img/racket.png"})))),c.a.createElement("div",{style:{color:"white",fontSize:"20px",textAlign:"center",padding:"30px"}},c.a.createElement("span",null,"Axis x: ",this.state.angleX.toFixed(0),"\xb0, "),c.a.createElement("span",null,"Axis y: ",this.state.angleY.toFixed(0),"\xb0"),c.a.createElement("div",null,"Movement: ",c.a.createElement("b",{style:{color:"#89d6fb"}},this.state.movement)))),c.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",width:"100vw"}},c.a.createElement("div",{style:{color:"white",width:"70px"}},"Fire Rate:"),c.a.createElement(ye.a,{style:{width:"30%"},min:0,max:5,step:.1,value:this.state.fireRate,onChange:function(t){e.setState({fireRate:t},(function(){e.updateController()}))}}),c.a.createElement(be.a,{value:this.state.fireRate})),c.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center",justifyContent:"center",width:"100vw",paddingTop:"5px"}},c.a.createElement("div",{style:{color:"white",width:"70px"}},"Force:"),c.a.createElement(ye.a,{style:{width:"30%"},min:0,max:2,step:.1,value:this.state.force,onChange:function(t){e.setState({force:t},(function(){e.updateController()}))}}),c.a.createElement(be.a,{value:this.state.force})),c.a.createElement("div",{style:{position:"fixed",bottom:"50px",display:"flex",flexDirection:"row",width:"100vw",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",{style:{width:"31%",display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(le.Joystick,{baseShape:le.JoystickShape.Square,stickShape:le.JoystickShape.Square,size:80,sticky:!1,baseColor:"#d4f0fc",stickColor:"#89d6fb",move:function(t){e.setState({movement:t.direction},(function(){e.updateController()}))},stop:function(){e.setState({movement:"NONE"},(function(){e.updateController()}))}}),c.a.createElement("div",{style:{fontSize:"20px",color:"#d4f0fc",marginTop:"10px"}},"Movement")),c.a.createElement("div",{style:{width:"7%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},c.a.createElement(ye.a,{style:{height:70},vertical:!0,min:0,max:.3,step:.01,value:this.state.levitation,onChange:function(t){e.setState({levitation:t},(function(){e.updateController()}))}}),c.a.createElement("div",{style:{fontSize:"20px",color:"#d4f0fc",marginTop:"10px"}},"Up")),c.a.createElement("div",{style:{width:"31%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},c.a.createElement(ge.a,{onClick:function(){e.setState({shoot:!e.state.shoot},(function(){e.updateController()}))},style:{width:80,height:80,backgroundColor:"#801100",borderColor:"#D73502"}},e.state.shoot?c.a.createElement(de.a,{style:{fontSize:30,color:"#FAC000"}}):c.a.createElement(me.a,{style:{fontSize:30,color:"#FAC000"}})),c.a.createElement("div",{style:{fontSize:"20px",color:"#FAC000",marginTop:"10px"}},e.state.shoot?"Stop":"Shoot")),c.a.createElement("div",{style:{width:"31%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},c.a.createElement(le.Joystick,{size:80,sticky:!0,baseColor:"#FFFF99",stickColor:"#FFD300",move:function(t){e.setState({angleX:t.y,angleY:t.x},(function(){e.updateController()}))}}),c.a.createElement("div",{style:{fontSize:"20px",color:"#FFFF99",marginTop:"10px"}},"Angle")))))}}]),n}(c.a.Component),ve=Object(l.b)((function(e){return{LoginReducer:e.LoginReducer,ControllerReducer:e.ControllerReducer}}))(Ee),xe=n(263),Oe=n(164),we=n(262),je=n(261),Ce=n(258),Se=function(e){Object(ie.a)(n,e);var t=Object(se.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ce.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(we.a,{visible:this.props.AlertReducer.show,onCancel:function(){e.props.dispatch(z())},OnOk:function(){e.props.dispatch(z())},title:"Error",footer:[c.a.createElement(ge.a,{key:"okay",onClick:function(){e.props.dispatch(z())}},"Okay")]},this.props.AlertReducer.message))}}]),n}(c.a.Component),ke=Object(l.b)((function(e){return{AlertReducer:e.AlertReducer}}))(Se),Re=function(e){Object(ie.a)(n,e);var t=Object(se.a)(n);function n(e){var a;return Object(oe.a)(this,n),(a=t.call(this,e)).state={createAccountModalVisibility:!1,loginUsername:"",loginPassword:"",firstName:"",lastName:"",email:"",username:"",password:""},a}return Object(ce.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){!0===this.props.LoginReducer.login&&this.props.history.push("/control")}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,function(){if(e.props.AlertReducer.show)return c.a.createElement(ke,null)}(),function(){if(e.props.LoginReducer.accountModalSuccess)return e.props.dispatch(Y(!1)),e.setState({createAccountModalVisibility:!1,firstName:"",lastName:"",email:"",username:"",password:""}),Oe.a.success({message:"Account Created",description:"Your account has been successfully created.",duration:5})}(),c.a.createElement(we.a,{centered:!0,visible:this.state.createAccountModalVisibility,onCancel:function(){e.setState({createAccountModalVisibility:!1,firstName:"",lastName:"",email:"",username:"",password:""})},footer:[]},c.a.createElement("img",{style:{height:"80px"},src:"/img/mislabLogo.png",alt:"logo"}),c.a.createElement("div",{style:{fontSize:"2.2em",paddingBottom:"15px",fontFamily:"Roboto, sans-serif"}},"New Account"),c.a.createElement("div",{style:{color:"black",opacity:1}},c.a.createElement("span",{style:{color:"rgb(255, 77, 79)"}},"* "),"First Name"),c.a.createElement(je.a,{value:this.state.firstName,onChange:function(t){e.setState({firstName:t.target.value})}}),c.a.createElement("div",{style:{color:"black",opacity:1,paddingTop:"11.75px"}},c.a.createElement("span",{style:{color:"rgb(255, 77, 79)"}},"* "),"Last Name"),c.a.createElement(je.a,{value:this.state.lastName,onChange:function(t){e.setState({lastName:t.target.value})}}),c.a.createElement("div",{style:{color:"black",opacity:1,paddingTop:"11.75px"}},c.a.createElement("span",{style:{color:"rgb(255, 77, 79)"}},"* "),"Email"),c.a.createElement(je.a,{value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),c.a.createElement("div",{style:{color:"black",opacity:1,paddingTop:"11.75px"}},c.a.createElement("span",{style:{color:"rgb(255, 77, 79)"}},"* "),"Username"),c.a.createElement(je.a,{value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),c.a.createElement("div",{style:{color:"black",opacity:1,paddingTop:"11.75px"}},c.a.createElement("span",{style:{color:"rgb(255, 77, 79)"}},"* "),"Password"),c.a.createElement(je.a.Password,{style:{marginBottom:"11.75px"},value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),c.a.createElement(xe.a,{style:{width:"100%",marginTop:"10px"},key:"submit",variant:"success",onClick:function(){e.props.dispatch(G(JSON.stringify({firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,username:e.state.username,password:e.state.password})))}},"Register")),c.a.createElement("div",{style:{minHeight:"100vh",margin:0,width:"100vw",backgroundImage:"url(".concat("/img/wallpaper.jpg",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",fontFamily:"Roboto, sans-serif"}},c.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundColor:"black",position:"fixed",opacity:"0.45"}}),c.a.createElement("div",{style:{position:"absolute",padding:"40px",width:"30%",minWidth:"350px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"24px",backgroundColor:"black",opacity:"0.8"}},c.a.createElement("div",{style:{textAlign:"center",marginBottom:"20px",color:"white"}},c.a.createElement("img",{style:{height:"80px"},src:"/img/mislabLogo.png",alt:"logo"}),c.a.createElement("div",{style:{fontSize:"2em"}},"Welcome Back!"),c.a.createElement("div",{style:{margin:"10px",fontWeight:50,fontSize:"1em"}},"Enter your credintials to login")),c.a.createElement(Ce.a,{size:"large",name:"basic"},c.a.createElement(Ce.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}]},c.a.createElement(je.a,{placeholder:"username",value:this.state.loginUsername,onChange:function(t){e.setState({loginUsername:t.target.value})}})),c.a.createElement(Ce.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}]},c.a.createElement(je.a.Password,{placeholder:"password",value:this.state.loginPassword,onChange:function(t){e.setState({loginPassword:t.target.value})}}))),c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement(xe.a,{variant:"success",style:{width:"100%"},onClick:function(){""===e.state.loginUsername||""===e.state.loginPassword?e.props.dispatch(M("Empty username or password")):e.props.dispatch(U(JSON.stringify({username:e.state.loginUsername,password:e.state.loginPassword})))}},"Login")),c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement("a",{onClick:function(){e.setState({createAccountModalVisibility:!0})},href:"#",style:{color:"#888888",fontSize:"0.9em"}},"Create new Account")))))}}]),n}(c.a.Component),Te=Object(l.b)((function(e){return{LoginReducer:e.LoginReducer,AlertReducer:e.AlertReducer}}))(Re),Ae=function(){return c.a.createElement(ne.a,null,c.a.createElement(ae.c,null,c.a.createElement(ae.a,{exact:!0,path:"/",component:Te}),c.a.createElement(ae.a,{exact:!0,path:"/control",component:ve}),c.a.createElement(ae.a,{component:re})))},Le=function(){return c.a.createElement(l.a,{store:te},c.a.createElement(Ae,null))};n(252),n(253);s.a.render(c.a.createElement(Le,null),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.51ca057b.chunk.js.map